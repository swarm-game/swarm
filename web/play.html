<!doctype html>
<html>
  <head>
    <title>Web frontend</title>
    <script src="script/pixi.js"></script>

    <script src="script/display.js"></script>
    <script src="script/fetch.js"></script>

    <script type="module">

      async function startLoop() {
        const button = document.getElementById('restart-button');
        button.style.display = 'none';

        let displayWidth = 600;
        let displayHeight = 300;
        let out = await setupGraphics(button, displayWidth, displayHeight);
        let appView = out[0];
        let graphics = out[1];
        doFetch(button, appView, graphics, displayWidth, displayHeight);
      }

      window.onload=()=>{
        startLoop();
      }
    </script>
  </head>
  <body>
    <button id="restart-button" onclick="startLoop();" style="display: block;">Restart</button>
  </body>
</html>
